<noscript><pre>=Navigating=
    visit(&#39;/projects&#39;)
    visit(post_comments_path(post))

=Clicking links and buttons=
    click_link(&#39;id-of-link&#39;)
    click_link(&#39;Link Text&#39;)
    click_button(&#39;Save&#39;)
    click(&#39;Link Text&#39;) # Click either a link or a button
    click(&#39;Button Value&#39;)

=Interacting with forms=
    fill_in(&#39;First Name&#39;, :with =&gt; &#39;John&#39;)
    fill_in(&#39;Password&#39;, :with =&gt; &#39;Seekrit&#39;)
    fill_in(&#39;Description&#39;, :with =&gt; &#39;Really Long Textâ€¦&#39;)
    choose(&#39;A Radio Button&#39;)
    check(&#39;A Checkbox&#39;)
    uncheck(&#39;A Checkbox&#39;)
    attach_file(&#39;Image&#39;, &#39;/path/to/image.jpg&#39;)
    select(&#39;Option&#39;, :from =&gt; &#39;Select Box&#39;)

=scoping=
    within(&quot;//li[@id=&#39;employee&#39;]&quot;) do
      fill_in &#39;Name&#39;, :with =&gt; &#39;Jimmy&#39;
    end
    within(:css, &quot;li#employee&quot;) do
      fill_in &#39;Name&#39;, :with =&gt; &#39;Jimmy&#39;
    end
    within_fieldset(&#39;Employee&#39;) do
      fill_in &#39;Name&#39;, :with =&gt; &#39;Jimmy&#39;
    end
    within_table(&#39;Employee&#39;) do
      fill_in &#39;Name&#39;, :with =&gt; &#39;Jimmy&#39;
    end

=Querying=
    page.has_xpath?(&#39;//table/tr&#39;)
    page.has_css?(&#39;table tr.foo&#39;)
    page.has_content?(&#39;foo&#39;)
    page.should have_xpath(&#39;//table/tr&#39;)
    page.should have_css(&#39;table tr.foo&#39;)
    page.should have_content(&#39;foo&#39;)
    page.should have_no_content(&#39;foo&#39;)
    find_field(&#39;First Name&#39;).value
    find_link(&#39;Hello&#39;).visible?
    find_button(&#39;Send&#39;).click
    find(&#39;//table/tr&#39;).click
    locate(&quot;//*[@id=&#39;overlay&#39;&quot;).find(&quot;//h1&quot;).click
    all(&#39;a&#39;).each { |a| a[:href] }

=Scripting=
    result = page.evaluate_script(&#39;4 + 4&#39;);

=Debugging=
    save_and_open_page

=Asynchronous JavaScript=
    click_link(&#39;foo&#39;)
    click_link(&#39;bar&#39;)
    page.should have_content(&#39;baz&#39;)
    page.should_not have_xpath(&#39;//a&#39;)
    page.should have_no_xpath(&#39;//a&#39;)

=XPath and CSS=
    within(:css, &#39;ul li&#39;) { ... }
    find(:css, &#39;ul li&#39;).text
    locate(:css, &#39;input#name&#39;).value
    Capybara.default_selector = :css
    within(&#39;ul li&#39;) { ... }
    find(&#39;ul li&#39;).text
    locate(&#39;input#name&#39;).value
</pre></noscript>
<script src="https://gist.github.com/zhengjia/428105.js"> </script>

